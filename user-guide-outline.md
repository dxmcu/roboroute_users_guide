



# 大纲

## 一、简介

### 1.1 RoboRoute 简介

RoboRoute 是上海仙知机器人科技有限公司（Seer Robotics，以下简称 仙知）开发的多机器人调度系统。
	
仙知整合 RoboRoute 系统、Roboshop Pro 软件，以及 SRC2000 系列控制器，可针对多种类、多数量移动机器人复杂操作与协同配合的场景，提供快速、专业的整厂解决方案，以此提升工厂的整体作业效率。

![1536052236253](C:\Users\dell\AppData\Local\Temp\1536052236253.png)

### 1.2 RoboRoute 主要功能

RoboRoute 系统的核心功能如下：

- **机器人调度**

  - 任务分配

    将业务订单分配给最合适的机器人执行。

  - 路线规划

    为执行业务的机器人规划合理的移动路线。

  - 交通管制

    预防机器人之间发生碰撞。

    解决机器人在运行中的路线冲突。

- **场景编辑**

  配合 Roboshop Pro 软件，编辑机器人的移动路线及节点。

  配置工作站、充电桩信息。

  配置机器人可操作的业务类型、动作类型等。

- **状态监控**

  在系统运行期间，实时监控整场机器人的在线状态、所处位置、行进路线、业务进度等。

  也可聚焦具体的机器人，对其进行持续跟踪。

- **机器人管理**

  管理机器人列表，控制机器人在 RoboRoute 系统中上下线。

  手动指定机器人前往节点或工作站。

  撤销机器人正在执行的业务。

  在不影响生产运输前提下，自动引导低电量机器人回坞充电。

- **业务管理**

  支持可视化地创建业务订单。

  通过执行状态，筛选业务订单列表，并获取订单的详细信息。

  批量撤销业务订单。

- **业务统计**

  统计机器人的累计运行时间、停靠和充电时间，以及整体利用率。

  统计工作站的累计访问时间。

  统计业务订单的分配和执行时间，以及完成情况。

- **交互协议**

  提供简洁的 HTTP 访问协议。通过协议可以：

  创建、查询及撤销业务订单。

  查询机器人的状态，或指定机器人在 RoboRoute 系统中上下线。

## 二、部署环境

### 2.1 RoboRoute 服务器

RoboRoute 的硬件载体选用 联想 ThinkStation P318 工作站，其主要优点有：

- 配置优越，性能强劲，性价比高。
- 工作站级主机，满足工厂 7 × 24 小时的不间断生产需求。
- 品牌型号入选节能环保清单，即《[环境标志产品政府采购清单](http://www.ccgp.gov.cn/search/hbqdchaxun.htm)》和《[节能产品政府采购清单](http://www.ccgp.gov.cn/search/jnqdchaxun.htm)》。

RoboRoute 服务器的主要配置：

- CPU：英特尔酷睿Core i7-7700
- RAM：16G DDR4 2133 NECC
- 硬盘：1TB
- 操作系统：Ubuntu 16.04

**请注意：**

```
**为保证用户权益及系统稳定性，RoboRoute 软件仅在仙知指定的 RoboRoute 服务器上运行。**

**请勿拆下 RoboRoute 服务器上的授权锁。**
```

### 2.2 机器人及 RoboShop Pro 软件

加入 RoboRoute 调度序列的机器人，必须满足以下条件：

- 使用仙知 SRC1100 或者 SRC2000 系列机器人主控器。
- 使用含通信功能的电池，能够向 RoboRoute 反馈电量信息。
- 机器人具备自主充电能力。

### 2.3 WIFI 环境

TODO

### 2.4 场景限制

TODO

## 三、系统安装

### 3.1 硬件安装

### 3.2 密码和账户

### 3.3网络配置

### 3.4 更新

## 四、场景元素介绍

### 4.1 节点

节点是离散的用于逻辑映射场景路线中机器人位置的元素。在操作模式下,机器人从场景中的一个点到另一点运行。节点分为:地标点和停靠点，其属性包含：

|     属性      |         描述          |     属性      |         描述          |
| :-----------: | :-------------------: | :-----------: | :-------------------: |
|     名称      |       节点的ID        |     类型      | 选择地标点或者停靠点  |
|   X-轴坐标    | 场景坐标系中 X 轴坐标 |    元属性     |      自定义属性       |
|   Y-轴坐标    | 场景坐标系中 Y 轴坐标 | 节点 X 轴坐标 | 视图坐标系中 X 轴坐标 |
|     角度      |    机器人到点角度     | 节点 Y 轴坐标 | 视图坐标系中 Y 轴坐标 |
| 标签 X 轴坐标 |    节点ID X 轴坐标    | 标签 Y 轴坐标 |    节点ID Y 轴坐标    |
| 节点标签角度  |      节点ID 角度      |               |                       |



#### 4.1.1 地标点

地标点指机器人在处理业务订单时可能短暂停止的位置,例如执行工作站的操作,机器人在到达该位置时,会进行一系列的动作；或者机器人在场景中经过的一系列点位。

![1535682332788](C:\Users\dell\AppData\Local\Temp\1535682332788.png)

#### 4.1.2 停靠点

停靠点指机器人可在此较长时间停靠占用的位置，在没有未执行的业务订单时，机器人会自动寻找停靠点进行自动泊车，等待分配新的业务订单；如果机器人的电量处于低电量报警阈值之下，并且不存在空闲的充电点位，机器人也会回到停靠点。

![1535682315716](C:\Users\dell\AppData\Local\Temp\1535682315716.png)

### 4.2 工作站

工作站是机器人需要执行业务操作的站点，是不可实际到达的点位，且工作站不可以单独存在，必须使用工作站连接将工作站和与之对应的地标点连接起来，根据工作站所属的类型不同，执行不同的操作；例如在工厂场景中需要进行物料流转、机器人工作交接配合等动作时，需要将该点设置为工作站，其属性包含：

![1535682190352](C:\Users\dell\AppData\Local\Temp\1535682190352.png)

|   属性   |           描述           |      属性       |             描述              |
| :------: | :----------------------: | :-------------: | :---------------------------: |
|   名称   |         工作站ID         |      标志       | 选择工作站图片区分工作站样式  |
| X-轴坐标 | 场景坐标系中的 X 轴坐标  | 工作站 X 轴坐标 |     视图坐标系中 X 轴坐标     |
| Y-轴坐标 | 场景坐标系中的 Y 轴坐标  | 工作站 Y 轴坐标 |     视图坐标系中 Y 轴坐标     |
|   类型   | 该工作站属于的工作站类型 | 标签 X 轴偏移量 | 视图窗口中工作站ID X 轴偏移量 |
|  方向角  |            空            | 标签 Y 轴偏移量 | 视图窗口中工作站ID Y 轴偏移量 |
|  元属性  |        自定义属性        |                 |                               |



### 4.3 工作站连接

工作站连接是用于将工作站和与之对应的地标点进行绑定的工具，其属性包含：

![1535682271459](C:\Users\dell\AppData\Local\Temp\1535682271459.png)

| 属性 |           描述           |   属性   |      描述      |
| :--: | :----------------------: | :------: | :------------: |
| 名称 | 根据起始终点元素自动生成 | 起始元素 | 地标点作为起点 |
| 动作 |            空            | 终点元素 | 工作站作为终点 |



### 4.4 工作站类型

工作站类型用于区分不同的工作站所要执行的动作，根据工厂场景中需要完成的动作类型进行分类，将类型相同的动作存入同一个工作站类型中，其属性包含：

![1535682246979](C:\Users\dell\AppData\Local\Temp\1535682246979.png)

| 属性 |          描述          |  属性  |             描述             |
| :--: | :--------------------: | :----: | :--------------------------: |
| 名称 |   该工作站类型的名称   |  动作  | 该类型的工作站允许执行的动作 |
| 标志 | 用于区分不同工作站样式 | 元属性 |     自动义工作站其他属性     |



### 4.5 路径

路径是机器人可通航点之间的连接。其主要属性包含: 

![1535683756618](C:\Users\dell\AppData\Local\Temp\1535683756618.png)

| 属性         | 描述                         | 属性         | 描述                       |
| ------------ | ---------------------------- | ------------ | -------------------------- |
| 名称         | 路径ID                       | 路径曲线类型 | 选择直线或者贝塞尔曲线     |
| 长度         | 路径在场景中的长度           | 曲线控制点   | 只有贝塞尔曲线存在控制点   |
| 路径成本     | 用于最优路径计算             | 起始元素     | 路径起点                   |
| 最大正向速度 | 路径上允许的最大正向行走速度 | 终点元素     | 路径终点                   |
| 最大反向速度 | 路径上允许的最大反向行走速度 | 锁定路径     | 机器人不可到达被锁定的路径 |
| 元属性       |                              |              |                            |



#### 4.5.1 直线

直线是两点之间直连的选择，如果需要机器人在某些节点之间按照直线运行，那么需要使用直线连接。

#### 4.5.2 2-Bezier & 3-Bezier

贝塞尔曲线，又称贝兹曲线或贝济埃曲线，是应用于二维图形应用程序的数学曲线。一般的矢量图形软件通过它来精确画出曲线，贝塞尔曲线由线段与控制点组成，控制点是可拖动的点，线段像可伸缩的皮筋，编辑模式下路径工具中的2-Bezier & 3-Bezier就是来画这种矢量曲线的。 

### 4.6 机器人

机器人是整个场景中业务订单的执行者，机器人的名称要保证三处统一：机器人铭牌、Roboshop中机器人名称、RoboRoute中机器人名称，机器人具有以下属性：

![1535695009213](C:\Users\dell\AppData\Local\Temp\1535695009213.png)

机器人状态：

UNAVAILABLE：机器人未连接到调度服务器，处于离线状态；

IDLE：机器人连接到调度服务器，处于在线可用状态；

ERROR：机器人故障或执行任务失败出现异常，处于不可用状态；

EXECUTING：机器人在线，并正在执行业务订单，处于执行状态；

CHARGING：机器人在线，并正在执行充电操作，处于执行状态；

UNKNOWN：机器人不属于场景之中，处于不可用状态；

机器人在线状态：

离线：机器人未连接到调度服务器；

在线不可用：机器人连接到调度服务器且机器人状态为不可用状态；

在线可用：机器人连接到调度服务器且机器人状态为可用状态；

|       属性       |                描述                |       属性       |            描述            |
| :--------------: | :--------------------------------: | :--------------: | :------------------------: |
|       名称       |              机器人ID              |    机器人长度    |       机器人车体长度       |
|     路线颜色     |     机器人规划路径时的路径颜色     |  低电量报警阈值  |   低于该值机器人自动充电   |
|   电量充足阈值   | 高于该值机器人开始接受业务订单派遣 |   最大正向速度   | 机器人运行时最大的前进速度 |
|   最大反向速度   |     机器人运行时最大的反向速度     |     剩余电量     |       机器人当前电量       |
|     电量状态     |       当前电量所处的阈值区间       |     负载状态     |       机器人是否载重       |
|    机器人状态    |       机器人六种状态中的一种       |     在线状态     | 机器人三种在线状态中的一种 |
|   业务执行状态   |         业务订单的执行状态         |     当前节点     |    机器人当前所在的节点    |
|     下一节点     |        机器人即将前往的节点        |     精确节点     |   机器人在场景的精确位置   |
|    机器人方向    |           机器人到点方向           |      元属性      |         自定义属性         |
|   当前业务订单   |       当前执行的业务订单名称       | 当前业务订单序列 |      业务订单序列名称      |
| 可执行的业务类型 |    机器人能够完成的业务类型种类    |   自主充电类型   |       机器人充电种类       |

### 4.7 元素组

![1536051630210](C:\Users\dell\AppData\Local\Temp\1536051630210.png)

在编辑模式下，选择工具栏新建元素组功能，出现如下对话框，选择需要添加到元素组中的场景元素，然后单击添加选中元素，将其添加到元素组中；

![1536051686218](C:\Users\dell\AppData\Local\Temp\1536051686218.png)

元素组信息栏会显示您所添加的元素，如下图：

![1536051573961](C:\Users\dell\AppData\Local\Temp\1536051573961.png)



### 4.8 元属性

TODO

## 五、入门

### 5.1 启动 RoboRoute

// TODO

### 5.2关闭 RoboRoute

// TODO

### 5.3 Kernel 功能及布局

#### 5.3.1 Kernel 模式

Kernel 是进行机器人管理以及核心功能实现的运算软件，分为编辑模式和操作模式。编辑模式可以新建一个空白场景，该场景中不存在任何元素，可以在Viewer中使用导入 Kernel 当前场景来编辑该空白场景；操作模式是 Kernel 工作时的运行模式。Kernel 的模式会根据 Viewer 的模式自动切换，不需要手动设置。

#### 5.3.2 菜单栏

Kernel 菜单栏包含两个主要功能：Kernel 和帮助；Kernel 中包含模式切换操作、新建场景操作以及退出关闭操作；帮助中是关于软件的版权信息。

![1536052116969](C:\Users\dell\AppData\Local\Temp\1536052116969.png)

#### 5.3.3 关键日志页面

Kernel 关键日志负责记录 Kernel 模式切换或者地图同步的状态信息，从中可以获取当前 Kernel 处在哪一种模式以及使用的场景。

![1535525298133](C:\Users\dell\AppData\Local\Temp\1535525298133.png)

#### 5.3.4 机器人管理页面

机器人管理页面中包含 Kernel 当前场景中所有的机器人信息，机器人栏表示场景中全部的机器人，在是否可用栏选择是否启用该机器人，状态栏实时显示机器人的状态，可以在 State 栏中设置；适配器栏包含当前 Kernel 中可用的适配器，位置栏显示机器人当前所在场景中的位置，可以在机器人信息配置项中的 Pos 中设置；Energy 栏用于设置机器人当前的电量。

![1535526547167](C:\Users\dell\AppData\Local\Temp\1535526547167.png)

### 5.4 Viewer 功能及布局

![1535534292974](C:\Users\dell\AppData\Local\Temp\1535534292974.png)

TODO：在Word中进行标注

#### 5.4.1 Viewer 模式

Viewer 是用于可视化操作的软件，分为编辑模式和操作模式：

编辑模式：允许在场景视图窗口中进行场景的编辑操作，例如机器人的添加、工作站类型的编辑、路径的微调等一系列可视化操作；

操作模式：在编辑模式将场景保存后，选择将场景同步到 Kernel ，然后选择菜单栏—>文件—>模式功能将模式切换到操作模式，此时界面中会增加显示机器人的信息，以及允许的对机器人的一系列操作；

#### 5.4.2 菜单栏

Viewer 菜单栏包括文件、编辑、动作、视图、帮助等功能：

文件操作：

![1535536392094](C:\Users\dell\AppData\Local\Temp\1535536392094.png)

|        功能         |                  描述                  |
| :-----------------: | :------------------------------------: |
|      新建场景       | 新建一个空白场景，可以任意添加场景元素 |
|      导入场景       |       从文件夹中导入XML格式场景        |
|      保存场景       |       将编辑好的场景保存至文件夹       |
|     场景另存为      |    将编辑好的场景重命名保存至文件夹    |
|  导入 Kernel 场景   |        导入当前 Kernel 中的场景        |
| 将场景同步至 Kernel |   将当前视图中的场景同步到 Kernel 中   |
|   派遣所有机器人    |       一键派遣场景中所有的机器人       |
|        模式         |        选择编辑模式或者操作模式        |
|    显示场景信息     |      显示场景中各个场景元素的数量      |

编辑操作：

![1535594354640](C:\Users\dell\AppData\Local\Temp\1535594354640.png)

|   功能   |          描述          |
| :------: | :--------------------: |
|   撤销   |     撤销上一步操作     |
|   重做   |     重复上一步操作     |
|   删除   |      删除选中元素      |
|   复制   |      复制选中元素      |
|   粘贴   | 将复制的元素粘贴至此处 |
|   克隆   |  将选中的元素进行克隆  |
|   剪切   |   剪切选中元素到某处   |
|   全选   |      选中所有元素      |
| 取消全选 | 取消所有元素的选中状态 |

动作操作：

![1535537820195](C:\Users\dell\AppData\Local\Temp\1535537820195.png)

|            功能            |                   描述                   |
| :------------------------: | :--------------------------------------: |
|        新建业务订单        |         根据需求手动书写业务订单         |
|         查找机器人         |       定位想要查找的场景中的机器人       |
| 视图坐标替换为当前场景坐标 |   将视图窗口中的坐标替换为场景中的坐标   |
| 场景坐标替换为当前视图坐标 | 将场景中的坐标替换为当前视图窗口中的坐标 |

视图操作：

![1535601187126](C:\Users\dell\AppData\Local\Temp\1535601187126.png)

|       功能       |                      描述                      |
| :--------------: | :--------------------------------------------: |
|   添加背景图片   |        为当前编辑的场景添加一张背景图片        |
|   添加场景视图   |              增加一个场景视图窗口              |
| 添加业务订单视图 |            增加一个业务订单视图窗口            |
| 添加订单序列视图 |            增加一个订单序列视图窗口            |
|       插件       | 集成如下的统计、资源分配、自动生成业务订单功能 |
|       统计       | 用于统计机器人运行的信息以及订单执行情况的信息 |
|    资源分配图    | 用于查看所有机器人运行时在场景中占用资源的信息 |
| 自动生成业务订单 |        用于生成随机业务订单（测试推荐）        |
|   重置窗口布局   |    在窗口布局发生变化时使用可以恢复初始布局    |



#### 5.4.3 工具栏

工具栏主要进行场景的编辑操作，进行场景元素的增删改查。

![1535608787316](C:\Users\dell\AppData\Local\Temp\1535608787316.png)

|    工具    |                功能                |    工具    |             功能             |
| :--------: | :--------------------------------: | :--------: | :--------------------------: |
|    选择    |          选择场景中的元素          |    拖拽    | 拖拽场景位于视图窗口中的位置 |
|    节点    |         添加不同类型的节点         |   工作站   |          添加工作站          |
|    路径    |         添加不同类型的路径         | 工作站连接 |      连接工作站与地标点      |
| 工作站类型 | 添加不同类型的工作站以及允许的动作 |   机器人   |          添加机器人          |
|   互斥区   |             添加互斥区             |   元素组   |                              |
|  订单书写  |          手动书写业务订单          | 查找机器人 | 快速定位场景中的某一台机器人 |
|  布局排版  |     将选中元素置于场景中的位置     |    移动    |    将选中元素上下左右移动    |
|  置于顶层  |     将选中元素置于场景的最上层     |  置于底层  |  将选中元素置于场景的最底层  |

#### 5.4.4 场景元素栏

![1535611475030](C:\Users\dell\AppData\Local\Temp\1535611475030.png)

场景元素栏显示场景中的元素概括，机器人表示在该场景中包含的机器人数量以及名称，可以在此进行机器人的名称编辑；节点表示场景中所有的地标点和停靠点；路径表示场景中地标点之间或者与停靠点之间的路线连接；工作站表示场景中包含的所有的工作站；工作站类型中可以定义不同的工作站，并对在该工作站允许的操作进行定义；工作站连接表示场景中所有工作站与其地标点之间的连接线；以上均支持增删查功能。

#### 5.4.5 互斥区栏

![1535630003749](C:\Users\dell\AppData\Local\Temp\1535630003749.png)

互斥区（Block）是只允许一台机器人在该设定区域内进行操作的场景元素集合，当一台机器人进入该互斥区时，如果其他机器人前进路线包含该区域中的元素，那么这些机器人会在互斥区之外最近的地标点进行等候，直到互斥区中的机器人执行完操作并驶离该互斥区。

#### 5.4.6 Kernel 关键日志

![1535697458477](C:\Users\dell\AppData\Local\Temp\1535697458477.png)

显示 Kernel 中的关键日志信息，例如 Kernel 的状态改变，导入的场景地图的改变都会显示在 Kernel 信息栏。

#### 5.4.7 场景视图

![1535697835523](C:\Users\dell\AppData\Local\Temp\1535697835523.png)

场景视图窗口是监控整个调度运行界面，它包含场景中的所有元素：机器人、工作站、工作站连接、停靠点、地标点、互斥区、路线等；场景视图工具栏如下图：

![1536053307151](C:\Users\dell\AppData\Local\Temp\1536053307151.png)

由左至右依次：

|    工具    |             描述             |
| :--------: | :--------------------------: |
|  缩放比例  |  用于选择场景视图的缩放比例  |
| 屏幕自适应 |    场景视图自适应屏幕大小    |
|  显示栅格  |    是否显示背景中的栅格线    |
|  显示标尺  | 是否显示视图左侧和上方的标尺 |
|  显示标签  |      是否显示元素的标签      |
| 显示互斥区 |        是否显示互斥区        |



#### 5.4.8 业务订单视图

![1535698012024](C:\Users\dell\AppData\Local\Temp\1535698012024.png)

业务订单视图窗口用于显示全部的业务订单，字段具体含义详细见 8.3 小节。

![1536042404574](C:\Users\dell\AppData\Local\Temp\1536042404574.png)

鼠标双击业务订单，会出现上图所示的业务订单详细页面，其中字段含义如下表：

|    字段    |        释义        |       字段       |              释义              |
| :--------: | :----------------: | :--------------: | :----------------------------: |
|    Name    |      订单名称      | 拒绝/机器人/原因 | 未执行完成的机器人以及失败原因 |
|    创建    |      创建时间      |    订单子任务    |   一个业务订单中包含的子任务   |
|    完成    |      完成时间      |      元属性      |             元属性             |
|  截止时间  |  订单预期截止时间  |       路线       |              路线              |
|   机器人   | 执行该订单的机器人 |    目标工作站    |           目标工作站           |
| 非必要订单 |  是否为非必要订单  |     路线成本     |          路线成本设定          |
|  业务类型  |    选择业务类型    |     订单依赖     |    该订单执行需要依赖的订单    |

**注释**：非必要订单：如果该订单被置为非必要订单，那么在机器人执行过程中如果有新的未执行业务订单存在，会优先执行其他业务订单，该非必要业务订单会自动流产。

#### 5.4.9 业务订单序列视图

![1535698061432](C:\Users\dell\AppData\Local\Temp\1535698061432.png)

业务订单序列表示可以将一系列订单统一加入到一个订单序列中，然后供某一台机器人全部执行。

业务订单序列字段解析：

|     字段     |                             释义                             |
| :----------: | :----------------------------------------------------------: |
|     Name     |                       业务订单序列名称                       |
|  指定机器人  |                   被指定执行该序列的机器人                   |
|  执行机器人  |                    实际执行该序列的机器人                    |
|    Index     |                     序列索引，初始值为-1                     |
|   创建完成   |                     订单序列是否创建完成                     |
|   执行完成   |                     订单序列是否执行完成                     |
| 允许序列失败 | 是否允许订单序列失败，true 表示任何一个失败即序列失败，false 表示某一个失败会继续执行其他 |

## 六、编辑场景

### 6.1 使用 Roboshop Pro 软件构建原始场景

#### 6.1.1 扫描地图

机器人出厂后只存有一张名为 default.smap 地图，在实际环境中使用时需要扫描环境地图后才能使用。扫描地图分为两种模式，分别为实时扫图（在线SLAM）和离线扫图（离线SLAM）。

**注1： 扫图时请勿控制机器人运动的过快，建议扫图速度为 0.5 m/s。**

**注2： 扫图时如果地面较滑，请勿同时控制机器人转向和前进，否则容易造成打滑现象，影响建图效果。**

**注3： 尽量沿着机器人工作时的线路扫描地图，来回扫描可使建图效果更佳。**

#### 6.1.2 离线扫图

离线扫图即先扫描环境数据再进行地图构建。需要遥控机器人在环境中运行一圈后，再进行地图构建。

点击模块工具栏中的开始扫图按钮 ![1535700500394](C:\Users\dell\AppData\Local\Temp\1535700500394.png)                                        ，图标变为   ![1535700531390](C:\Users\dell\AppData\Local\Temp\1535700531390.png)  后说明已开始离线扫图。

手动操控机器人在环境中运行一遍，使机器人的激光雷达扫描到环境中的大部分区域。完成后使机器人停止，点击   ![1535700579753](C:\Users\dell\AppData\Local\Temp\1535700579753.png)  后将弹出地图构建窗口，如下：

![1535700602389](C:\Users\dell\AppData\Local\Temp\1535700602389.png)

建图参数配置中的参数一般不需要修改，点击确定按钮即开始构建地图。此时窗口中将复现刚才机器人的运动轨迹同时构建地图，当进度条读到 100% 后地图构建完毕，最终效果如下：

![1535700655845](C:\Users\dell\AppData\Local\Temp\1535700655845.png)   

图中的红色轨迹即为机器人扫描地图时的运动轨迹。

此时请勿关闭建图窗口，请点击右上角中的   ![1535700690090](C:\Users\dell\AppData\Local\Temp\1535700690090.png)  按钮将构建的地图保存至计算机磁盘中。在弹出的保存对话框中可以对地图进行命名。

**注1： 在控制机器人扫描环境时，请保持与机器人的网络连接畅通。**

**注2： 在构建地图的过程中请勿关闭建图窗口，除非需要放弃本次地图构建。**

若不慎在建图过程中将建图窗口关闭，或地图构建完成后忘记另存为.smap就关闭了窗口，可以点击模块工具栏中的     按钮将最近一次的扫描数据重新取回并重新唤出建图窗口。

#### 6.1.3 实时扫图

实时扫图即同时进行环境数据的扫描和地图构建。遥控机器人在环境中运行一圈后即可生成地图。

点击模块工具栏中的实时扫图按钮  ![1535700818289](C:\Users\dell\AppData\Local\Temp\1535700818289.png)  ，唤出实时建图窗口，如下图：

![1535700840847](C:\Users\dell\AppData\Local\Temp\1535700840847.png)

点击  ![1535700865866](C:\Users\dell\AppData\Local\Temp\1535700865866.png)   按钮，该按钮会变为  ![1535700899209](C:\Users\dell\AppData\Local\Temp\1535700899209.png)   并建图参数配置对话框，同样不需要对参数进行修改，点击确定即开始实时扫图。

此时请勿关闭实时建图窗口，用鼠标移动至工作空间的范围内并单击鼠标左键一下，目的是将软件的焦点切换回工作空间，这样才能够使用键盘快捷键控制机器人运动。通过键盘的W、A、S、D键控制机器人在环境中运动（与离线扫图相同）。随着机器人的运动，实时建图的窗口中会实时显示机器人的运动轨迹以及当前已经构建完毕的地图，如下图：

![1535700948284](C:\Users\dell\AppData\Local\Temp\1535700948284.png)

当完成对环境的扫描后，点击  ![1535701027177](C:\Users\dell\AppData\Local\Temp\1535701027177.png)  。此时程序将对地图做最后的优化后完成地图构建，最终效果如下：

![1535701063479](C:\Users\dell\AppData\Local\Temp\1535701063479.png)

点击  ![1535701364241](C:\Users\dell\AppData\Local\Temp\1535701364241.png) 将构建的地图保存至计算机磁盘。

#### 6.1.4 加载地图

在机器人控制模块加载地图，可以通过 菜单栏->文件->加载地图 唤出文件选择对话框的方式。

若事先在地图编辑模块加载了地图，此时切换到机器人控制模块，加载的地图将保留。即地图编辑模块和机器人控制模块是共用地图的。在机器人控制模块也可以加载多张地图，并在多个地图标签页中切换。

与地图编辑模块不同的是，在机器人控制模块无法对地图进行编辑修改，只能点击地图中的元素以查看其相关属性。

若加载了地图，此时连接上机器人后，当前工作空间中的地图上将显示机器人，如下图：

![1535701158228](C:\Users\dell\AppData\Local\Temp\1535701158228.png)

图中显示机器人的长宽为实际值，蓝色部分表示机器人头部。红色部分为置信度的颜色，根据置信度的降低，该部分将从绿色渐变为红色。图中呈蓝色放射状的是当前机器人激光雷达扫描到的环境形状。

#### 6.1.5 导出 RoboRoute 地图

![1535701719379](C:\Users\dell\AppData\Local\Temp\1535701719379.png)

使用 Roboshop 编辑完成整个场景中的路线之后，点击导出功能，选择导出 RoboRoute 地图，将 Roboshop 的 smap 地图转换成 RoboRoute 的XML地图（ smap 地图编辑参考 Roboshop 使用手册）。 

### 6.2 切换至编辑模式

打开Viewer，默认模式为编辑模式；手动模式切换需要选择文件菜单下的模式，然后选择编辑模式或者操作模式；或者使用快捷键方式，Alt + M（编辑模式）、Alt + O （操作模式）。

### 6.3 载入场景

选择文件—>导入场景，在导入场景对话框中选择你要导入场景的路径，选择打开，场景自动加载到场景视图中。

![1535960793966](C:\Users\dell\AppData\Local\Temp\1535960793966.png)

### 6.4 添加机器人

![1535960935130](C:\Users\dell\AppData\Local\Temp\1535960935130.png)

![1535969811814](C:\Users\dell\AppData\Local\Temp\1535969811814.png)

在编辑模式下，选择机器人工具进行场景中机器人的添加，在机器人名称栏编辑机器人铭牌上的机器人ID，机器人的实际车长，路线颜色，低电量报警阈值以及充足阈值，最大正向速度与最大反向速度可以根据 Roboshop 的 smap 中的路线速度进行设定，需要根据不同的车型选择自主充电类型。

#### 6.4.1 编辑可执行的业务类型

TODO

#### 6.4.2 编辑自主充电类型

TODO

### 6.5 添加工作站信息

![1535970132005](C:\Users\dell\AppData\Local\Temp\1535970132005.png)

![1535970156222](C:\Users\dell\AppData\Local\Temp\1535970156222.png)

在编辑模式下，选择工具栏工作站选项添加工作站，然后在工作站信息栏编辑关键信息，设定该工作站的名称，如果该工作站是由 smap 自动导出生成，那么名称不变，如果是手动添加的工作站，那么需要重新命名，选择该工作站的类型，该类型必须在工作站类型中存在，否则路径规划会报错。

### 6.6 保存场景

在编辑模式下，选择文件—>保存场景，或者使用快捷键 Ctrl + S 保存当前编辑的场景；使用文件—>场景另存为，可以将场景重命名保存到文件夹。

### 6.7 显示场景信息

![1536055443070](C:\Users\dell\AppData\Local\Temp\1536055443070.png)

选择文件—>显示场景信息，可以显示场景中的如下信息：

|      字段      |             释义             |
| :------------: | :--------------------------: |
|   地标点数量   |   场景中所包含的地标点总数   |
|    路径数量    |    场景中所包含的路径总数    |
|   工作站数量   |   场景中所包含的工作站总数   |
| 工作站类型数量 | 场景中所包含的工作站类型总数 |
|   互斥区数量   |   场景中所包含的互斥区总数   |
|   机器人数量   |   场景中所包含的机器人总数   |
|  最后修改日期  |      场景的最后修改日期      |



### 6.8 Viewer 向 Kernel 同步场景

编辑完成的场景，或者最新导入的场景，都需要同步到 kernel 并且在 Kernel 中进行初始化之后才能使用，选择文件—>将场景同步至 Kernel 功能，Viewer 会在软件上方的连接信息中显示所连接到的 Kernel IP和端口号，如下图：

![1536055786052](C:\Users\dell\AppData\Local\Temp\1536055786052.png)

然后在 Kernel 中进行初始化操作，初始化完成后，在 Viewer 中选择文件—>模式—>操作模式，在经过一段非常美妙的动画之后，Viewer 会切换到操作模式，此时界面如下：

![1536055841106](C:\Users\dell\AppData\Local\Temp\1536055841106.png)

### 6.9 Viewer 导入 Kernel 当前场景

选择文件—>导入 Kernel 场景，此时会将 Kernel 中的场景导入到 Viewer 中，导入以后为默认模式：编辑模式。此功能更倾向用于 Viewer 中途退出（这种可能性几乎为0）或者人为不小心关闭后（这种可能性蛮大）以便快速恢复调度系统而进行的操作。

### *6.10 使用 Roboshop Pro 软件更新场景文件

TODO

### *6.11 使用 Roboshop Pro 软件融合场景文件

TODO

### 6.12 场景编辑规则

#### 6.12.1 单向路线

#### 6.12.2 交叉路线设计

#### 6.12.3 停靠点及工作站设计

#### 6.12.4 双向路线及互斥区

#### 6.12.5有向强连通图

## 七、机器人配置及操作

### 7.1 使用 Roboshop Pro 软件配置机器人

![1536057086848](C:\Users\dell\AppData\Local\Temp\1536057086848.png)

在 Roboshop 中选择参数配置，将 ServerIP 配置成调度服务器的IP地址，ServerPort 配置成调度服务器的端口号（使用默认即可），将 VehicleID 配置成机器人铭牌ID，最后单击永久修改。

### 7.2 使用 Roboshop Pro 软件载入场景对应的 smap

在机器人控制模块加载地图，可以通过 菜单栏->文件->加载地图 唤出文件选择对话框的方式，找到 smap 文件存放的路径，然后打开。

### 7.3 使用 Roboshop Pro 软件重定位机器人

重定位用于使机器人获得正确的定位状态。通过指定一个比较模糊的初始定位点和方向，让机器人自己计算其精确的位置和方向。重定位也是使机器人能进入正确工作状态的重要一步。

如下图所示：

​                              ![1536057461907](C:\Users\dell\AppData\Local\Temp\1536057461907.png)                    

机器人的激光形状没有和地图匹配上，机器人的颜色为橘色说明置信度比较低，因此机器人当前的定位是不正确的。实际情况，机器人处于途中红色箭头标识处。

点击  ![1536057483116](C:\Users\dell\AppData\Local\Temp\1536057483116.png)   按钮，鼠标变成蓝色箭头状  ![1536057504930](C:\Users\dell\AppData\Local\Temp\1536057504930.png) 。在上图中红色箭头处的位置按下鼠标左键不松开，拖动鼠标拉出方向线，使方向线的朝向与上图中箭头的朝向一致，再松开鼠标左键，如图：

   ![1536057536256](C:\Users\dell\AppData\Local\Temp\1536057536256.png)

此时会弹出正在重定位的对话框：

   ![1536057569838](C:\Users\dell\AppData\Local\Temp\1536057569838.png)

稍等片刻重定位完成后得到如下效果：

   ![1536057610983](C:\Users\dell\AppData\Local\Temp\1536057610983.png)

可以看到机器人的激光已经基本与地图匹配上，此时机器人的定位已经正确。重定位完成后同时会弹出确认位置正确的对话框，点击确定可将机器人定位的状态设置为正确。若点击取消，机器人的定位只是处于定位完成状态，此时仍是无法切换到自动模式的，因为必须将定位状态设置为正确才能切换到自动模式。

如果定位完成后出现如下情况：

   ![1536057667110](C:\Users\dell\AppData\Local\Temp\1536057667110.png)

可以看到，机器人的激光依然没有与地图匹配上，所以这次重定位是失败的，原因可能为点击的重定位点或者拖出的方向线与机器人实际的位置相差太远。此时在弹窗中不能点确定，而应该点取消，然后重新进行重定位操作。

### 7.4 使用 Roboshop Pro 软件释放控制权

![1536057723582](C:\Users\dell\AppData\Local\Temp\1536057723582.png)

在 Roboshop 中将机器人放置到某个确定的点位，然后确认机器人定位正确后，单击释放控制权，使机器人自动去连接调度服务器，如果连接成功，机器人的状态会由UNAVAILABLE变为IDLE，此时表明连接成功。

![1536057877305](C:\Users\dell\AppData\Local\Temp\1536057877305.png)

### 7.5 使用 Roboshop Pro 软件回收控制权



### 7.6 管理机器人通信适配器

### 7.7 使能机器人通信适配器

### 7.8 确认机器人位置

## 八、操作模式

### 8.1 切换至操作模式

在将模型同步到 Kernel 以后，并在 Kernel 中将机器人初始化后，选择文件—>模式，切换到操作模式，或者使用快捷键 Alt + O；此时视图窗口中会出现机器人窗口和场景视图窗口；界面如下：

### 8.2 新建业务订单

创建业务订单的方式有三种：

1、使用创建业务订单功能：单击添加按钮，选择需要目的地工作站以及所要执行的动作，在机器人复选框中可以指定执行该业务订单的机器人，或者选择自动分配机器人。

![1536026306709](C:\Users\dell\AppData\Local\Temp\1536026306709.png)

2、使用 Web API 创建业务订单：Web API 是与调度对接的标准协议，协议提供：创建业务订单，撤回业务订单，查询业务订单状态和机器人状态等功能，详情请看11.5 Web API 链接。

3、使用自动生成业务订单插件创建业务订单：详情请看10.2小节。

### 8.3 业务订单视图

![1536026193488](C:\Users\dell\AppData\Local\Temp\1536026193488.png)

|      字段      |                         释义                         |
| :------------: | :--------------------------------------------------: |
|      Name      |                 订单名称，具有唯一性                 |
|   始发工作站   |           该订单执行所要前往的第一个工作站           |
|   终点工作站   |          该订单执行所要前往的最后一个工作站          |
|   指定机器人   | 可以选择某个特定的机器人或者由调度系统自动分配机器人 |
| 执行中的机器人 |            该订单被分配至某个特定的机器人            |
|     Status     |                      订单的状态                      |
|      序列      |     订单所属的订单序列，只有存在订单依赖时会显示     |



#### 8.3.1 筛选业务订单列表

![1536027944266](C:\Users\dell\AppData\Local\Temp\1536027944266.png)

业务订单筛选工具：

|                    工具                    |                  描述                   |
| :----------------------------------------: | :-------------------------------------: |
|       无法规划的业务订单（状态=RAW）       |       查询订单状态为RAW的业务订单       |
|   待派遣的业务订单（状态=DISPATCHABLE）    |  查询订单状态为DISPATCHABLE的业务订单   |
| 正在处理的业务订单（状态=BEING_PROCESSED） | 查询订单状态为BEING_PROCESSED的业务订单 |
|     已完成的业务订单（状态=FINISHED）      |    查询订单状态为FINISHED的业务订单     |
|       失败的业务订单（状态=FAILED）        |     查询订单状态为FAILED的业务订单      |
|                撤回业务订单                |  撤回业务订单，支持单个撤回和批量撤回   |



#### 8.3.2 查看业务订单状态

业务订单 Status 分析：

Active：订单存在依赖，需要等待被依赖订单处理完成后才能进行派遣；

Unrouteable：订单非法，起始点位无法到达，路径无法规划；

DISPATCHABLE：单例订单，且订单合法，允许派遣机器人；

RAW：订单非法，订单中存在非场景中的元素，请检查元素详细信息；

BEING_PROCESSED：订单合法，且已有机器人正在执行该订单；

FINISHED：订单合法，且该订单已成功执行完成；

FAILED：订单合法，但是由于人为撤回订单或者调度自动撤回订单，导致订单失败；

#### 8.3.3 撤销业务订单

撤销业务订单支持按照订单名称撤回和按照机器人撤回两种方式：

按照订单名称撤回：选中您要撤回的一个或几个订单，然后单击撤回业务订单按钮，将订单撤回。

![1536028788224](C:\Users\dell\AppData\Local\Temp\1536028788224.png)

按照机器人撤回：在需要撤回订单的机器人图标上单击鼠标右键，弹出如下菜单栏，选择撤销业务订单，根据实际需求选择撤销订单的方式。

![1536029060647](C:\Users\dell\AppData\Local\Temp\1536029060647.png)

![1536029337758](C:\Users\dell\AppData\Local\Temp\1536029337758.png)

|   订单撤回方式   |                        释义                        |
| :--------------: | :------------------------------------------------: |
|  并到达下一节点  | 撤销当前执行的订单，但机器人会继续前进到下一个节点 |
| 并立即停止机器人 |         撤销当前执行的订单，机器人立即停止         |



### 8.4 业务订单序列视图

TODO

#### 8.4.1 查看业务订单序列状态

TODO

### 8.5 机器人视图

![1536030862126](C:\Users\dell\AppData\Local\Temp\1536030862126.png)

机器人视图窗口包含：机器人名称、机器人图标、实时电量、在线状态、机器人状态以及机器人当前位置。

#### 8.5.1 机器人图标说明

|                             图标                             |           释义           |                             图标                             |          释义          |
| :----------------------------------------------------------: | :----------------------: | :----------------------------------------------------------: | :--------------------: |
| ![1536031694042](C:\Users\dell\AppData\Local\Temp\1536031694042.png) |   正常机器人无负载状态   | ![1536031726307](C:\Users\dell\AppData\Local\Temp\1536031726307.png) |  故障机器人无负载状态  |
| ![1536031751403](C:\Users\dell\AppData\Local\Temp\1536031751403.png) | 正常机器人无负载充电状态 | ![1536031782978](C:\Users\dell\AppData\Local\Temp\1536031782978.png) |   正常机器人负载状态   |
| ![1536031814240](C:\Users\dell\AppData\Local\Temp\1536031814240.png) |    故障机器人负载状态    | ![1536031851092](C:\Users\dell\AppData\Local\Temp\1536031851092.png) | 正常机器人负载充电状态 |



#### 8.5.2 机器人状态

机器人状态解析：

UNAVAILABLE：机器人未连接到调度服务器，处于离线状态；

IDLE：机器人连接到调度服务器，处于在线可用状态；

ERROR：机器人故障或执行任务失败出现异常，处于不可用状态；

EXECUTING：机器人在线，并正在执行业务订单，处于执行状态；

CHARGING：机器人在线，并正在执行充电操作，处于执行状态；

UNKNOWN：机器人不属于场景之中，处于不可用状态；

#### 8.5.3 机器人在线状态

机器人在线状态解析：

离线：机器人未连接到调度服务器或者机器人仅标记场景中的位置；

在线不可用：机器人连接到调度服务器且机器人状态为不可用状态；

在线可用：机器人连接到调度服务器且机器人状态为可用状态；

#### 8.5.4 机器人电量

机器人的电量等级：

低电量报警阈值：该阈值线表示当机器人低于该线时会自动去充电，此时不会再接受新的业务订单，如果无空闲充电点位，机器人会寻找停靠点进行自动泊车；

电量充足阈值：该阈值线表示当机器人高于该线时会告知调度系统允许派发新的业务订单；

电量不充足：当机器人的电量处于报警阈值与充足阈值之间时，成为电量不充足，此时机器人依然能够正常接受业务订单的派遣；

#### 8.5.5 聚焦和跟踪机器人

![1536032579091](C:\Users\dell\AppData\Local\Temp\1536032579091.png)

在机器人图标上单击右键，弹出如上图菜单栏，聚焦机器人和跟踪机器人都是为了在复杂的场景中快速定位某台机器人而设定。

聚焦机器人：该机器人的图标颜色会发生如下变化，可以快速区分需要寻找的机器人；

![1536032762741](C:\Users\dell\AppData\Local\Temp\1536032762741.png)

跟踪机器人：被跟踪的机器人会被动感光圈所环绕，在机器人行走的过程中，光圈会一直伴随其左右，便于人类发现该机器人；

![1536032978036](C:\Users\dell\AppData\Local\Temp\1536032978036.png)

#### 8.5.6 派遣机器人至节点

![1536037628309](C:\Users\dell\AppData\Local\Temp\1536037628309.png)

在机器人图标上单击右键，弹出如上图菜单。

派遣至节点提供定点导航功能，选择派遣至节点后选择需要到达的点位，然后单击确定按钮，机器人会自动规划最优路径前往目标节点；

![1536037802142](C:\Users\dell\AppData\Local\Temp\1536037802142.png)



#### 8.5.7 派遣机器人至工作站

派遣至工作站提供定点导航加执行动作功能，选择派遣制工作站后选择需要到达的工作站并指定到达该工作站后需要进行的动作，然后单击确定按钮，机器人会自动规划最优路径前往目标工作站；

![1536037962679](C:\Users\dell\AppData\Local\Temp\1536037962679.png)

#### 8.5.8 更改机器人在线状态

![1536039020413](C:\Users\dell\AppData\Local\Temp\1536039020413.png)

在机器人图标上单击右键，弹出如上图菜单。

![1536039050615](C:\Users\dell\AppData\Local\Temp\1536039050615.png)

在线状态解析：

|         状态         |                             释义                             |
| :------------------: | :----------------------------------------------------------: |
| 将机器人置为离线状态 | 断开机器人与调度服务器的连接，并从当前场景视图中移除，在线状态为离线 |
|   仅标记机器人位置   |          将机器人在场景中的位置占用，在线状态为离线          |
|  仅将机器人载入场景  | 将移除的机器人重新载入场景并占用当前位置，在线状态为在线不可用 |
| 将机器人置为在线状态 | 将机器人连接到调度服务器，并可以接受业务订单派遣，在线状态为在线可用 |



### 8.6 典型操作流程



## 九、RoboRoute 配置（公司内部人员，以及集成商使用）

### 9.1 Kernel 关键配置列表

|                        字段                         |         含义         |                        字段                         |         含义         |
| :-------------------------------------------------: | :------------------: | :-------------------------------------------------: | :------------------: |
|        kernelapp. autoEnableDriversOnStartup        |     启动自动使能     |      kernelapp. saveModelOnTerminateModelling       | 退出编辑模式自动保存 |
|      kernelapp. saveModelOnTerminateOperating       | 退出操作模式自动保存 |  kernelapp. updateRoutingTopologyOnPathLockChange   | 路径锁定后更新拓扑图 |
|              orderpool. sweepInterval               |       扫描间隔       |                 orderpool. sweepAge                 |     订单保存时间     |
|              rmikernelinterface.enable              | 远程调用接口是否可用 |              rmikernelinterface.useSsl              |       是否加密       |
|       rmikernelinterface. clientSweepInterval       |                      |          rmikernelinterface. registryHost           |                      |
|          rmikernelinterface. registryPort           |                      |  rmikernelinterface. remoteKernelServicePortalPort  |                      |
|   rmikernelinterface. remotePlantModelServicePort   |                      | rmikernelinterface. remoteTransportOrderServicePort |                      |
|    rmikernelinterface. remoteVehicleServicePort     |                      |  rmikernelinterface. remoteNotificationServicePort  |                      |
|   rmikernelinterface. remoteSchedulerServicePort    |                      |     rmikernelinterface. remoteRouterServicePort     |                      |
|   rmikernelinterface. remoteDispatcherServicePort   |                      |        rmikernelinterface. remoteKernelPort         |                      |
|                  ssl. keystoreFile                  |                      |                 ssl. truststoreFile                 |                      |
|                ssl. keystorePassword                |                      |               ssl. truststorePassword               |                      |
|                 adminwebapi.enable                  |                      |               adminwebapi.bindAddress               |                      |
|                adminwebapi.bindPort                 |                      |                servicewebapi.enable                 |                      |
|                servicewebapi.useSsl                 |                      |              servicewebapi.bindAddress              |                      |
|               servicewebapi.bindPort                |                      |               servicewebapi.accessKey               |                      |
|         servicewebapi.statusEventsCapacity          |                      |                controlcenter.enable                 |                      |
|               controlcenter.language                |                      |          controlcenter.loggingAreaCapacity          |                      |
|               xmlhostinterface.enable               |                      |          xmlhostinterface.ordersServerPort          |                      |
|         xmlhostinterface.ordersIdleTimeout          |                      |          xmlhostinterface.ordersInputLimit          |                      |
|          xmlhostinterface.statusServerPort          |                      |       xmlhostinterface.statusMessageSeparator       |                      |
| defaultdispatcher.dismissUnroutable TransportOrders |                      |       defaultdispatcher.assignRedundantOrders       |                      |
|          defaultdispatcher.rerouteTrigger           |                      |    defaultdispatcher.reroutingImpossibleStrategy    |                      |
|         defaultdispatcher.parkIdleVehicles          |                      |       defaultdispatcher.rechargeIdleVehicles        |                      |
|      defaultdispatcher.keepRechargingUntilGood      |                      | defaultdispatcher.idleVehicleRedispatchingInterval  |                      |
|          defaultdispatcher.orderPriorities          |                      |     defaultdispatcher.orderCandidatePriorities      |                      |
|         defaultdispatcher.vehiclePriorities         |                      |    defaultdispatcher.vehicleCandidatePriorities     |                      |
|       defaultdispatcher.deadlineAtRiskPeriod        |                      |         defaultrecoveryevaluator.threshold          |                      |
|        defaultrouter.routeToCurrentPosition         |                      |        defaultrouter.shortestpath.algorithm         |                      |
|      defaultrouter.shortestpath.edgeEvaluators      |                      |         virtualvehicle.simulationTimeFactor         |                      |
|         virtualvehicle.commandQueueCapacity         |                      |          virtualvehicle.rechargeOperation           |                      |
|         virtualvehicle.profilesMaxFileSize          |                      |            virtualvehicle.redisServerIp             |                      |
|           virtualvehicle.redisServerPort            |                      |             statisticscollector.enable              |                      |



### 9.2 Viewer 关键配置列表

|                      字段                      |       含义       |                     字段                      |        含义        |
| :--------------------------------------------: | :--------------: | :-------------------------------------------: | :----------------: |
| plantoverviewapp.ignoreVehicleOrientationAngle | 忽略机器人朝向角 | plantoverviewapp.ignoreVehiclePrecisePosition | 忽略机器人精确位置 |
|          plantoverviewapp.initialMode          |     默认模式     |           plantoverviewapp.language           |        语言        |
|        plantoverviewapp.frameMaximized         |                  |      plantoverviewapp.frameBoundsHeight       |                    |
|       plantoverviewapp.frameBoundsWidth        |                  |         plantoverviewapp.frameBoundsX         |                    |
|         plantoverviewapp.frameBoundsY          |                  |     plantoverviewapp.connectionBookmarks      |                    |
|  plantoverviewapp.useBookmarksWhenConnecting   |                  |      plantoverviewapp.locationThemeClass      |                    |
|       plantoverviewapp.vehicleThemeClass       |                  |                  ssl.enable                   |                    |
|               ssl.truststoreFile               |                  |            ssl.truststorePassword             |                    |



## 十、扩展插件

### 10.1 订单统计

![1536044465504](C:\Users\dell\AppData\Local\Temp\1536044465504.png)

订单统计提供整个场景中机器人、点位、订单的处理信息。

机器人数据分析：

|    字段    |               释义               |
| :--------: | :------------------------------: |
|    名称    |            机器人名称            |
|  运行时间  |        机器人运行时间总和        |
|  等待时间  | 机器人处理订单过程中等待时间总和 |
| 订单已处理 |     机器人处理完成的订单数量     |
|  充电时间  |        机器人充电时间总和        |

点位分析：

|   字段   |          释义          |
| :------: | :--------------------: |
|  地标点  |       地标点位ID       |
| 占用时间 | 该点位被占用的时间总和 |

订单分析：

|   字段   |              释义              |
| :------: | :----------------------------: |
|   名称   |          业务订单名称          |
| 时间分配 |          订单预期时间          |
| 处理时间 |      业务订单实际处理时间      |
|   成功   | 业务订单最终处理状态，成功与否 |
|   超时   | 订单实际完成时间与预期时间差值 |



### 10.2 随机订单测试

![1536044501121](C:\Users\dell\AppData\Local\Temp\1536044501121.png)

在测试环节可以选择自动生成订单功能来创建订单，选择生成订单的条件然后勾选最下方的生成业务订单，订单就会自动创建并添加到业务订单视图中。

|          参数           |                             释义                             |
| :---------------------: | :----------------------------------------------------------: |
|       仅创建一次        |                   创建单次订单，仅生成一次                   |
| 少于N要被处理的业务订单 |      N是订单的数量，在订单列表中少于N个时会持续自动生成      |
|        间隔时间         |                两次自动生成业务订单的间隔时间                |
|      随机业务订单       | 首个参数代表每次生成订单的个数，第二个代表每个业务订单包含的订单子任务数量 |
| 根据目的地创建业务订单  |              勾选后下方的添加新业务订单按钮可用              |
|     添加新业务订单      |         选择截止时间和需要执行的机器人来生成业务订单         |
|     新建订单子任务      |      选择目的地工作站以及所要执行的动作来生成订单子任务      |
|          打开           |                   打开已编辑好的订单配置表                   |
|          保存           |                将本次编辑作为模板保存至文件夹                |



## 十一、关于

### 11.1 关于软件

### 11.2 关键术语表

|      术语      |    释义    | 详细解释 |
| :------------: | :--------: | :------: |
|     Model      |    场景    |          |
| TransportOrder |  业务订单  |          |
|  DriverOrder   | 订单子任务 |          |
|    Property    |   元属性   |          |
|    Vehicle     |   机器人   |          |
| OrderSequence  |  订单序列  |          |
|     Point      |    节点    |          |
|   Halt Point   |   地标点   |          |
|   Park Point   |   停靠点   |          |

### 11.3 快捷键

|        操作        |       键        |
| :----------------: | :-------------: |
|      新建场景      |    Ctrl + N     |
|      导入场景      |    Ctrl + L     |
|      保存场景      |    Ctrl + S     |
|     场景另存为     | Ctrl + Shift +S |
|   导入Kernel场景   |     Alt + K     |
| 将场景同步到Kernel |     Alt + P     |
|   派遣所有机器人   |     Alt +D      |
|      编辑模式      |     Alt + M     |
|      操作模式      |     Alt + O     |

### 11.4 修订历史

| 文件版本 | 发布时间 | 更新描述 | 软件版本 |
| :------: | :------: | :------: | :------: |
|          |          |          |          |

### 11.5 Web API 链接

### 11.6 FAQ 链接

### 11.7 联系我们

网站: [www.seer-robotics.com](http://www.seer-robotics.com/)

地址: 上海市浦东新区金桥镇金领之都7号楼203室

邮箱: [contact@seer-robotics.com](mailto:contact@seer-robotics.com)

技术支持: [support@seer-robotics.com](mailto:support@seer-robotics.com)

商务合作: [zhangsui@seer-robotics.com](mailto:zhangsui@seer-robotics.com)

技术咨询: [yys@seer-robotics.com](mailto:yys@seer-robotics.com)

电话: 400-061-6660 / 086-021-61112205

### 11.8 版权声明

本手册会定期进行检查和修正，更新后的内容将出现在新版本中。本手册中的内容或信息如有变更，恕不另行通知。

安装、使用产品前请阅读本手册。

请保管好本手册，以便随时阅读与参考。

本手册所记载的内容，不排除有错误或遗漏的可能性，如对本手册中的内容有疑问，请与我司[联系](mailto:support@seer-robotics.com)。



 Seer Robotics 和 仙知 为上海仙知机器人科技有限公司的注册商标。

 

上海仙知机器人科技有限公司对 RoboRoute 软件保留所有权利。

 

上海仙知机器人科技有限公司对本文档内容保留所有权利，请勿重制或分发此文档。

 

Copyright © 2015 – 2018 Seer Robotics Co.,Ltd.